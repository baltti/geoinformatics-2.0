# Системы координат в ГИС {#crs}

## Общие сведения о картографических проекциях

**Картографическая проекция** --- это математически определенное отображение поверхности эллипсоида или шара (глобуса) на плоскость карты.

Проекция устанавливает однозначное соответствие между геодезическими координатами точек (широтой и долготой) и их прямоугольными координатами на карте[^crs-1].

[^crs-1]: Берлянт А. М. Картография: Учебник для вузов. --- М.: Аспект Пресс, 2002.- 336 с.

При создании картографической проекции поверхность Земли (поверхность эллипсоида) проецируется, как правило, на плоскость, цилиндр, конус или многогранник. Таким образом, в зависимости от проецирующей поверхности все картографические проекции делятся на **азимутальные, цилиндрические, конические и многогранные**.

![Коническая проекция](images/conic%20projections.png)

![Цилиндрические проекции](images/cilindrical%20projections.png)

![Азимутальные проекции[^crs-2]](images/azimuthal%20projections.png)

[^crs-2]: <http://desktop.arcgis.com/ru/arcmap/10.3/guide-books/map-projections/projection-types.htm>

От выбора проекции зависит степень искажения размеров, длин и углов. Есть мнение, что проекции создают нашу картину мира, о чем есть великий эпизод из сериала West Wing.

```{=html}
<iframe width="800" height="400" src="https://www.youtube.com/embed/vVX-PrBRtTY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
```
И также достаточно известный выпуск выб-комикса [xkcd](https://xkcd.com/977/)

[![](images/map_projections.png)](https://xkcd.com/977/)

Как уже было сказано чуть выше самой распространенной проекцией, с которой большинство из нас сталкивается практически ежедневно, является проекция Меркатора, так как она используется во всех навигационных приложениях и веб-картах. В этой проекции очень велики искажения размеров, особенно в приполярных областях, так как она является цилиндрической. То есть при ее создании земной шар помещается внутрь цилиндра, который соприкасается с ним на экваторе, после чего все проецируется на поверхность цилиндра и он разворачивается на плоскость.

Посмотреть, насколько искажаются размеры в привычной нам проекции можно на сайте [The True Size ...](https://thetruesize.com/)

## Системы координат

Но в ГИС все не ограничивается только способом проецирования на плоскость, также важно как и задаются оси координат, где находится начало системы координат, какие единицы измерения используются, каков охват системы координат. Поэтому в ГИС говорят не просто о проекции, а о системе координат - **coordinate reference system или crs**.

Система координат состоит из нескольких компонентов:

-   датум - поверхность относимости; элипсоид, на который происходит проецирование поверхности Земли;

-   поверхность, на которую проецируется изображение с элипсоида;

-   оси и их направление, начало координат, единицы измерения и прочее.

> Следует помнить, что существует два основных типа систем координат: **географические и прямоугольные (спроецированные)**. В первых в качестве единиц измерения используются градусы, а во вторых - метрические единицы. Это имеет значение при ряде операций пространственного анализа.

Сейчас используется единая классификация систем координат в ГИС - реестр EPSG, с которым можно ознакомиться на сайте [epsg.io](epsg.io) (формально неофициальный источник, но гораздо более простой в использовании и понятный, чем [официальный](https://epsg.org/home.html)).

Наиболее часто встречающимися явялются системы координат `EPSG:3857 - WGS 84 / Pseudo Mercator` и `EPSG:4326`. Это очень похожие системы координат, основанные на эллипсоиде WGS-84 и проекции Меркатора , главная разница между этими системами в единицах измерения: в первой в качестве единиц измерения используются метры, а во второй - градусы.

Все имеющиеся в реестре системы координат уже заданы в QGIS, а также есть возможность создания пользовательских систем координат.

При создании пользовательской системы координат можно составить ее описание в формате **WKT** (well-known text) или в формате **proj.**

Для подбора подходящей системы координат можно пользоваться сервисом [Projection wizard](http://projectionwizard.org/).
